@use "../../styles/base/_breakpoints.scss";


.form-feedback {
  position: relative;
  max-width: 637px;
  max-height: 99vh;
  width: 100%;
  padding: 44px;
  overflow: hidden auto;
  border-radius: 32px;
  background-color: #fff;

  &__btn-close {
    position: absolute;
    top: 28px;
    right: 28px;
    width: 18px;
    height: 18px;
    transition: 0.5s;
    background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2017.5%2017.5%22%3E%3Cpath%20d%3D%22M17%2C1%2C1%2C17M1%2C1%2C17%2C17%22%20transform%3D%22translate(-0.25%20-0.25)%22%20style%3D%22fill%3Anone%3Bstroke%3A%23a0a3bd%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A1.5px%22%2F%3E%3C%2Fsvg%3E") no-repeat center;
    background-size: contain;

    &:hover {
      background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2017.5%2017.5%22%3E%3Cpath%20d%3D%22M17%2C1%2C1%2C17M1%2C1%2C17%2C17%22%20transform%3D%22translate(-0.25%20-0.25)%22%20style%3D%22fill%3Anone%3Bstroke%3A%234a3aff%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A1.5px%22%2F%3E%3C%2Fsvg%3E") no-repeat center;
      background-size: contain;
    }
  }


  &__title-form {
    margin: 0 0 8px 0;
    text-align: center;

    h2 {
      font: 700 34px/46px "Roboto-Bold";
    }
  }

  &__subtitle-form {
    margin: 0 0 20px 0;
    text-align: center;

    p {
      font: 400 14px/20px "Roboto-Regular";
      color: #4b5563;
    }
  }

  &__rating {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 33px;
    grid-area: rating;
    margin: 0 0 41px 0;
  }

  &__star {
    display: block;
    width: 35px;
    height: 36px;
    cursor: pointer;
    transition: 0.2s;
    background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2034.5%2034.5%22%3E%3Cpath%20d%3D%22M19.07%2C2.42a1.84%2C1.84%2C0%2C0%2C0-.66-.67%2C1.78%2C1.78%2C0%2C0%2C0-1.82%2C0%2C1.84%2C1.84%2C0%2C0%2C0-.66.67c-.36.66-.71%2C1.34-1%2C2a49.34%2C49.34%2C0%2C0%2C0-2.72%2C6.71%2C2%2C2%2C0%2C0%2C1-1.87%2C1.36%2C54.09%2C54.09%2C0%2C0%2C0-7.83.78%2C1.66%2C1.66%2C0%2C0%2C0-.94%2C2.85l.7.67a58.43%2C58.43%2C0%2C0%2C0%2C5.55%2C4.63%2C1.89%2C1.89%2C0%2C0%2C1%2C.7%2C2.12%2C48.9%2C48.9%2C0%2C0%2C0-2.09%2C9A1.74%2C1.74%2C0%2C0%2C0%2C9%2C34.29a53.81%2C53.81%2C0%2C0%2C0%2C7.3-4.53%2C2.08%2C2.08%2C0%2C0%2C1%2C2.48%2C0A52.84%2C52.84%2C0%2C0%2C0%2C26%2C34.29a1.74%2C1.74%2C0%2C0%2C0%2C2.58-1.7c-.07-.52-.14-1-.23-1.55a48.11%2C48.11%2C0%2C0%2C0-1.86-7.48%2C1.89%2C1.89%2C0%2C0%2C1%2C.7-2.12%2C58.36%2C58.36%2C0%2C0%2C0%2C6.25-5.3%2C1.66%2C1.66%2C0%2C0%2C0-.94-2.85%2C54.09%2C54.09%2C0%2C0%2C0-7.83-.78%2C2%2C2%2C0%2C0%2C1-1.15-.39%2C1.93%2C1.93%2C0%2C0%2C1-.72-1A50%2C50%2C0%2C0%2C0%2C19.07%2C2.42Z%22%20transform%3D%22translate(-0.25%20-0.75)%22%20style%3D%22fill%3Anone%3Bstroke%3A%23d9dbe9%3Bstroke-linecap%3Around%3Bstroke-linejoin%3Around%3Bstroke-width%3A1.5px%22%2F%3E%3C%2Fsvg%3E") no-repeat center;

    &.active-star {
      background: url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2033%2033%22%3E%3Cpath%20d%3D%22M18.07%2C1.42a1.84%2C1.84%2C0%2C0%2C0-.66-.67%2C1.78%2C1.78%2C0%2C0%2C0-1.82%2C0%2C1.84%2C1.84%2C0%2C0%2C0-.66.67c-.36.66-.71%2C1.34-1%2C2a49.34%2C49.34%2C0%2C0%2C0-2.72%2C6.71%2C2%2C2%2C0%2C0%2C1-1.87%2C1.36%2C54.09%2C54.09%2C0%2C0%2C0-7.83.78%2C1.66%2C1.66%2C0%2C0%2C0-.94%2C2.85l.7.67a58.43%2C58.43%2C0%2C0%2C0%2C5.55%2C4.63%2C1.89%2C1.89%2C0%2C0%2C1%2C.7%2C2.12%2C48.9%2C48.9%2C0%2C0%2C0-2.09%2C9A1.74%2C1.74%2C0%2C0%2C0%2C8%2C33.29a53.81%2C53.81%2C0%2C0%2C0%2C7.3-4.53%2C2.08%2C2.08%2C0%2C0%2C1%2C2.48%2C0A52.84%2C52.84%2C0%2C0%2C0%2C25%2C33.29a1.74%2C1.74%2C0%2C0%2C0%2C2.58-1.7c-.07-.52-.14-1-.23-1.55a48.11%2C48.11%2C0%2C0%2C0-1.86-7.48%2C1.89%2C1.89%2C0%2C0%2C1%2C.7-2.12%2C58.36%2C58.36%2C0%2C0%2C0%2C6.25-5.3%2C1.66%2C1.66%2C0%2C0%2C0-.94-2.85%2C54.09%2C54.09%2C0%2C0%2C0-7.83-.78%2C2%2C2%2C0%2C0%2C1-1.15-.39%2C1.93%2C1.93%2C0%2C0%2C1-.72-1A50%2C50%2C0%2C0%2C0%2C18.07%2C1.42Z%22%20transform%3D%22translate(0%20-0.5)%22%20style%3D%22fill%3A%23ffe01a%22%2F%3E%3C%2Fsvg%3E") no-repeat center;
    }
  }


  &__benefits-wrap {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    grid-area: benefits;
    margin: 41px 0 36px 0;
  }

  &__item-benefit {
    padding: 5px 16px;
    border-radius: 100px;
    background-color: #eff0f6;
    transition: 0.3s;


    &.active-item, &:hover {
      cursor: pointer;
      background-color: #6f6c90;
      color: #fff;
    }
  }


  &__form {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-areas:
    "rating rating"
    "benefits benefits"
    "fields_container fields_container"
    "steps steps"
    "btns btns";

    &.active-benefits {
      .form-feedback__rating {
        margin: 0;
      }
    }
  }

  &__btns-wrap {
    display: flex;
    align-items: center;
    gap: 28px;
    grid-area: btns;
    margin: 40px 0 0 0;
  }

  &__fields-container {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-areas:
    "name email"
    "phone select"
    "message message";
    gap: 28px;
    grid-area: fields_container;
  }

  &__field-wrap {

    &.active-error {
      input {
        border-color:#fd2727;
        background-color: #fdf2f2;
      }
    }

    &.active-valid {
      input {
        border-color:#5bc729;
        background-color: #effbe9;
      }
    }

    label {
      display: block;
      margin: 0 0 4px 0;
      font: 400 14px/20px "Roboto-Regular";
      color: #6f6c90;
    }

    input {
      height: 56px;
    }

    textarea {
      min-height: 144px;
    }

    input, textarea {
      width: 100%;
      padding: 14px 16px;
      border-radius: 8px;
      border: 1px solid #f7f7fb;
      background-color: #f7f7fb;
      transition: 0.3s;
      font: 400 16px/28px "Roboto-Regular";

      &::placeholder {
        color: #a0a3bd;
      }

      &:-webkit-autofill {
        -webkit-text-fill-color: #6f6c90;
        color: #6f6c90;
      }

      &:focus {
        border-color: #4a3aff;
      }
    }

    &--name {
      grid-area: name;
    }

    &--email {
      grid-area: email;
    }

    &--phone {
      grid-area: phone;
    }

    &--message {
      grid-area: message;
    }
  }


}

@include breakpoints.desktop_and_tablet {
  .form-feedback {


    &__steps-wrap {
      display: none;
    }
  }
}

@include breakpoints.mobile {
  .form-feedback {
    max-height: calc(95vh - 20px);
    padding: 20px 12px 16px 12px;
    border-radius: 16px;


    &__title-form {
      margin: 0 0 4px 0;

      h2 {
        font-size: 18px;
        line-height: 24px;
      }
    }

    &__btn-close {
      top: 4px;
      right: 4px;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background-color: #eff0f6;
      background-size: 12px 12px;

      &:hover {
        background-color: #eff0f6;
        background-size: 12px 12px;
      }
    }

    &__subtitle-form {
      margin: 0 0 12px 0;

      p {
        font-size: 12px;
        line-height: 16px;
      }
    }

    &__rating {
      gap: 16px;
      margin: 0 0 20px 0;
    }

    &__star {
      width: 24px;
      height: 24px;
    }


    &__fields-container {
      grid-template-columns: 1fr;
      grid-template-areas:
      "name"
      "email"
      "phone"
      "select"
      "message";
      gap: 16px;
    }


    &__benefits-wrap {
      gap: 8px;
      margin: 0 0 16px 0;
    }

    &__item-benefit {
      padding: 8px 12px;
      font-size: 12px;
      line-height: 16px;
    }

    &__field-wrap {

      input, textarea {
        padding: 10px 16px;
        font: 400 14px/20px "Roboto-Regular";

        &::placeholder {
          font: 400 14px/20px "Roboto-Regular";
        }
      }

      textarea {
        min-height: 76px;
      }

      input {
        height: 40px;
      }
    }



    &__steps-wrap {
      display: flex;
      align-items: center;
      gap: 0 16px;
      grid-area: steps;
      margin: 24px 0 0 0;
    }

    &__step {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-shrink: 0;
      width: 34px;
      height: 34px;
      border-radius: 50%;
      background-color: #eff0f6;
      font: 500 16px/18px "Roboto-Medium";
      color: #6f6c90;

      &.active-step {
        background-color: #4a3aff;
        color: #fff;
      }
    }

    &__step-process {
      position: relative;
      width: 100%;
      height: 6px;
      border-radius: 40px;
      background-color: #eff0f6;
    }

    &__step-process-line {
      position: absolute;
      top: 0;
      left: 0;
      display: block;
      width: 0;
      height: 6px;
      border-radius: 40px;
      transition: 0.5s;
      background-color: #4a3aff;
      z-index: 1;
    }


    &__btns-wrap {
      gap: 20px;
      margin: 20px 0 0 0;
    }
  }


}